var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var view = require('./view');
var $ = view.$;
var DocumentationView = (function (_super) {
    __extends(DocumentationView, _super);
    function DocumentationView() {
        _super.apply(this, arguments);
        this.shown = false;
    }
    DocumentationView.content = function () {
        var _this = this;
        return this.div({ class: 'atom-ts-documentation padded top' }, function () { return _this.div(function () {
            _this.h2({ outlet: 'header' });
            _this.p({ outlet: 'documentation' });
        }); });
    };
    DocumentationView.prototype.show = function () {
        this.$.addClass('active');
        this.shown = true;
    };
    DocumentationView.prototype.hide = function () {
        this.$.removeClass('active');
        this.shown = false;
    };
    DocumentationView.prototype.toggle = function () {
        if (this.shown) {
            this.hide();
        }
        else {
            this.show();
        }
    };
    DocumentationView.prototype.setContent = function (content) {
        this.header.html(content.display);
        content.documentation = content.documentation.replace(/(?:\r\n|\r|\n)/g, '<br />');
        this.documentation.html(content.documentation);
    };
    DocumentationView.prototype.autoPosition = function () {
        var editor = atom.workspace.getActiveTextEditor();
        var cursor = editor.getCursors()[0];
        var cursorTop = cursor.getPixelRect().top - editor.getScrollTop();
        var editorHeight = editor.getHeight();
        if (editorHeight - cursorTop < 100) {
            this.$.removeClass('bottom');
            this.$.addClass('top');
        }
        else {
            this.$.removeClass('top');
            this.$.addClass('bottom');
        }
    };
    return DocumentationView;
})(view.View);
exports.DocumentationView = DocumentationView;
exports.docView;
function attach() {
    if (exports.docView)
        return;
    exports.docView = new DocumentationView({});
    $(atom.views.getView(atom.workspace)).append(exports.docView.$);
    //    testDocumentationView();
}
exports.attach = attach;
function testDocumentationView() {
    exports.docView.setContent({
        display: "this is awesome",
        documentation: "\n    some docs\n    over\n    many\n    many li\n\n    lines\n    long\n    so\n    long\n    that\n    it\n    should\n\n    start\n    to\n    scroll\n    ",
        filePath: "some filepath"
    });
    exports.docView.show();
}
exports.testDocumentationView = testDocumentationView;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2FuYXMvLmF0b20vcGFja2FnZXMvYXRvbS10eXBlc2NyaXB0L2xpYi9tYWluL2F0b20vdmlld3MvZG9jdW1lbnRhdGlvblZpZXcudHMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbmFzLy5hdG9tL3BhY2thZ2VzL2F0b20tdHlwZXNjcmlwdC9saWIvbWFpbi9hdG9tL3ZpZXdzL2RvY3VtZW50YXRpb25WaWV3LnRzIl0sIm5hbWVzIjpbIkRvY3VtZW50YXRpb25WaWV3IiwiRG9jdW1lbnRhdGlvblZpZXcuY29uc3RydWN0b3IiLCJEb2N1bWVudGF0aW9uVmlldy5jb250ZW50IiwiRG9jdW1lbnRhdGlvblZpZXcuc2hvdyIsIkRvY3VtZW50YXRpb25WaWV3LmhpZGUiLCJEb2N1bWVudGF0aW9uVmlldy50b2dnbGUiLCJEb2N1bWVudGF0aW9uVmlldy5zZXRDb250ZW50IiwiRG9jdW1lbnRhdGlvblZpZXcuYXV0b1Bvc2l0aW9uIiwiYXR0YWNoIiwidGVzdERvY3VtZW50YXRpb25WaWV3Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFPLElBQUksV0FBVyxRQUFRLENBQUMsQ0FBQztBQUNoQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBRWYsSUFBYSxpQkFBaUI7SUFBU0EsVUFBMUJBLGlCQUFpQkEsVUFBdUJBO0lBQXJEQSxTQUFhQSxpQkFBaUJBO1FBQVNDLDhCQUFjQTtRQWV6Q0EsVUFBS0EsR0FBR0EsS0FBS0EsQ0FBQ0E7SUEwQjFCQSxDQUFDQTtJQXJDVUQseUJBQU9BLEdBQWRBO1FBQUFFLGlCQVFDQTtRQVBHQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxLQUFLQSxFQUFFQSxrQ0FBa0NBLEVBQUVBLEVBQ3pEQSxjQUFNQSxPQUFBQSxLQUFJQSxDQUFDQSxHQUFHQSxDQUNWQTtZQUNJQSxLQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxFQUFFQSxNQUFNQSxFQUFFQSxRQUFRQSxFQUFFQSxDQUFD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QkFBaUJBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO0lBQ3BDQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxPQUFPQSxDQUFDQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxlQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUN4REEsOEJBQThCQTtBQUNsQ0EsQ0FBQ0E7QUFMZSxjQUFNLEdBQU4sTUFLZixDQUFBO0FBRUQsU0FBZ0IscUJBQXFCO0lBQ2pDQyxlQUFPQSxDQUFDQSxVQUFVQSxDQUFDQTtRQUNmQSxPQUFPQSxFQUFFQSxpQkFBaUJBO1FBQUVBLGFBQWFBLEVBQUVBLGdLQWlCOUNBO1FBQUVBLFFBQVFBLEVBQUVBLGVBQWVBO0tBQzNCQSxDQUFDQSxDQUFDQTtJQUNIQSxlQUFPQSxDQUFDQSxJQUFJQSxFQUFFQSxDQUFDQTtBQUNuQkEsQ0FBQ0E7QUF0QmUsNkJBQXFCLEdBQXJCLHFCQXNCZixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHZpZXcgPSByZXF1aXJlKCcuL3ZpZXcnKTtcbnZhciAkID0gdmlldy4kO1xuXG5leHBvcnQgY2xhc3MgRG9jdW1lbnRhdGlvblZpZXcgZXh0ZW5kcyB2aWV3LlZpZXc8YW55PiB7XG5cbiAgICBwcml2YXRlIGhlYWRlcjogSlF1ZXJ5O1xuICAgIHByaXZhdGUgZG9jdW1lbnRhdGlvbjogSlF1ZXJ5O1xuICAgIHN0YXRpYyBjb250ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXYoeyBjbGFzczogJ2F0b20tdHMtZG9jdW1lbnRhdGlvbiBwYWRkZWQgdG9wJyB9LFxuICAgICAgICAgICAgKCkgPT4gdGhpcy5kaXYoICAvLyBUT0RPOiByZXBlYXQgZm9yIGVhY2ggZG9jdW1lbnRhdGlvbiBlbnRyeVxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oMih7IG91dGxldDogJ2hlYWRlcicgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucCh7IG91dGxldDogJ2RvY3VtZW50YXRpb24nIH0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBzaG93biA9IGZhbHNlO1xuICAgIHNob3coKSB7IHRoaXMuJC5hZGRDbGFzcygnYWN0aXZlJyk7IHRoaXMuc2hvd24gPSB0cnVlOyB9XG4gICAgaGlkZSgpIHsgdGhpcy4kLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsgdGhpcy5zaG93biA9IGZhbHNlOyB9XG4gICAgdG9nZ2xlKCkgeyBpZiAodGhpcy5zaG93bikgeyB0aGlzLmhpZGUoKTsgfSBlbHNlIHsgdGhpcy5zaG93KCk7IH0gfVxuXG4gICAgc2V0Q29udGVudChjb250ZW50OiB7IGRpc3BsYXk6IHN0cmluZzsgZG9jdW1lbnRhdGlvbjogc3RyaW5nOyBmaWxlUGF0aDogc3RyaW5nIH0pIHtcbiAgICAgICAgdGhpcy5oZWFkZXIuaHRtbChjb250ZW50LmRpc3BsYXkpO1xuICAgICAgICBjb250ZW50LmRvY3VtZW50YXRpb24gPSBjb250ZW50LmRvY3VtZW50YXRpb24ucmVwbGFjZSgvKD86XFxyXFxufFxccnxcXG4pL2csICc8YnIgLz4nKTtcbiAgICAgICAgdGhpcy5kb2N1bWVudGF0aW9uLmh0bWwoY29udGVudC5kb2N1bWVudGF0aW9uKTtcbiAgICB9XG5cbiAgICBhdXRvUG9zaXRpb24oKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSBhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVUZXh0RWRpdG9yKCk7XG4gICAgICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29ycygpWzBdO1xuICAgICAgICB2YXIgY3Vyc29yVG9wID0gY3Vyc29yLmdldFBpeGVsUmVjdCgpLnRvcCAtIGVkaXRvci5nZXRTY3JvbGxUb3AoKTtcbiAgICAgICAgdmFyIGVkaXRvckhlaWdodCA9IGVkaXRvci5nZXRIZWlnaHQoKTtcblxuICAgICAgICBpZiAoZWRpdG9ySGVpZ2h0IC0gY3Vyc29yVG9wIDwgMTAwKSB7XG4gICAgICAgICAgICB0aGlzLiQucmVtb3ZlQ2xhc3MoJ2JvdHRvbScpO1xuICAgICAgICAgICAgdGhpcy4kLmFkZENsYXNzKCd0b3AnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJC5yZW1vdmVDbGFzcygndG9wJyk7XG4gICAgICAgICAgICB0aGlzLiQuYWRkQ2xhc3MoJ2JvdHRvbScpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCB2YXIgZG9jVmlldzogRG9jdW1lbnRhdGlvblZpZXc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhdHRhY2goKSB7XG4gICAgaWYgKGRvY1ZpZXcpIHJldHVybjtcbiAgICBkb2NWaWV3ID0gbmV3IERvY3VtZW50YXRpb25WaWV3KHt9KTtcbiAgICAkKGF0b20udmlld3MuZ2V0VmlldyhhdG9tLndvcmtzcGFjZSkpLmFwcGVuZChkb2NWaWV3LiQpO1xuICAgIC8vICAgIHRlc3REb2N1bWVudGF0aW9uVmlldygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGVzdERvY3VtZW50YXRpb25WaWV3KCkge1xuICAgIGRvY1ZpZXcuc2V0Q29udGVudCh7XG4gICAgICAgIGRpc3BsYXk6IFwidGhpcyBpcyBhd2Vzb21lXCIsIGRvY3VtZW50YXRpb246IGBcbiAgICBzb21lIGRvY3NcbiAgICBvdmVyXG4gICAgbWFueVxuICAgIG1hbnkgbGlcblxuICAgIGxpbmVzXG4gICAgbG9uZ1xuICAgIHNvXG4gICAgbG9uZ1xuICAgIHRoYXRcbiAgICBpdFxuICAgIHNob3VsZFxuXG4gICAgc3RhcnRcbiAgICB0b1xuICAgIHNjcm9sbFxuICAgIGAsIGZpbGVQYXRoOiBcInNvbWUgZmlsZXBhdGhcIlxuICAgIH0pO1xuICAgIGRvY1ZpZXcuc2hvdygpO1xufVxuIl19
//# sourceURL=/Users/anas/.atom/packages/atom-typescript/lib/main/atom/views/documentationView.ts
