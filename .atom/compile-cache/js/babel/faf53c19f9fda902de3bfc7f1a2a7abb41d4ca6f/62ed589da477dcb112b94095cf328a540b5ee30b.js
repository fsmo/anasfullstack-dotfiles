'use babel';

function mouseEvent(type, properties) {
  var defaults = {
    bubbles: true,
    cancelable: type !== 'mousemove',
    view: window,
    detail: 0,
    pageX: 0,
    pageY: 0,
    clientX: 0,
    clientY: 0,
    ctrlKey: false,
    altKey: false,
    shiftKey: false,
    metaKey: false,
    button: 0,
    relatedTarget: undefined
  };

  for (var k in defaults) {
    var v = defaults[k];
    if (!(properties[k] != null)) {
      properties[k] = v;
    }
  }

  return new MouseEvent(type, properties);
}

function touchEvent(type, touches) {
  var firstTouch = touches[0];

  var properties = {
    bubbles: true,
    cancelable: true,
    view: window,
    ctrlKey: false,
    altKey: false,
    shiftKey: false,
    metaKey: false,
    relatedTarget: undefined
  };

  var e = new Event(type, properties);
  e.pageX = firstTouch.pageX;
  e.pageY = firstTouch.pageY;
  e.clientX = firstTouch.clientX;
  e.clientY = firstTouch.clientY;
  e.touches = e.targetTouches = e.changedTouches = touches;
  return e;
}

function objectCenterCoordinates(obj) {
  var _obj$getBoundingClientRect = obj.getBoundingClientRect();

  var top = _obj$getBoundingClientRect.top;
  var left = _obj$getBoundingClientRect.left;
  var width = _obj$getBoundingClientRect.width;
  var height = _obj$getBoundingClientRect.height;

  return { x: left + width / 2, y: top + height / 2 };
}

module.exports = { objectCenterCoordinates: objectCenterCoordinates, mouseEvent: mouseEvent };['mousedown', 'mousemove', 'mouseup', 'click'].forEach(function (key) {
  module.exports[key] = function (obj) {
    var _ref = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

    var x = _ref.x;
    var y = _ref.y;
    var cx = _ref.cx;
    var cy = _ref.cy;
    var btn = _ref.btn;

    if (!(typeof x !== 'undefined' && x !== null && typeof y !== 'undefined' && y !== null)) {
      var o = objectCenterCoordinates(obj);
      x = o.x;
      y = o.y;
    }

    if (!(typeof cx !== 'undefined' && cx !== null && typeof cy !== 'undefined' && cy !== null)) {
      cx = x;
      cy = y;
    }

    obj.dispatchEvent(mouseEvent(key, {
      pageX: x, pageY: y, clientX: cx, clientY: cy, button: btn
    }));
  };
});

module.exports.mousewheel = function (obj) {
  var deltaX = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];
  var deltaY = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];

  obj.dispatchEvent(mouseEvent('mousewheel', { deltaX: deltaX, deltaY: deltaY }));
};['touchstart', 'touchmove', 'touchend'].forEach(function (key) {
  module.exports[key] = function (obj) {
    var _ref2 = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

    var x = _ref2.x;
    var y = _ref2.y;
    var cx = _ref2.cx;
    var cy = _ref2.cy;

    if (!(typeof x !== 'undefined' && x !== null && typeof y !== 'undefined' && y !== null)) {
      var o = objectCenterCoordinates(obj);
      x = o.x;
      y = o.y;
    }

    if (!(typeof cx !== 'undefined' && cx !== null && typeof cy !== 'undefined' && cy !== null)) {
      cx = x;
      cy = y;
    }

    obj.dispatchEvent(touchEvent(key, [{ pageX: x, pageY: y, clientX: cx, clientY: cy }]));
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbmFzLy5hdG9tL3BhY2thZ2VzL21pbmltYXAvc3BlYy9oZWxwZXJzL2V2ZW50cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxXQUFXLENBQUE7O0FBRVgsU0FBUyxVQUFVLENBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRTtBQUNyQyxNQUFJLFFBQVEsR0FBRztBQUNiLFdBQU8sRUFBRSxJQUFJO0FBQ2IsY0FBVSxFQUFHLElBQUksS0FBSyxXQUFXLEFBQUM7QUFDbEMsUUFBSSxFQUFFLE1BQU07QUFDWixVQUFNLEVBQUUsQ0FBQztBQUNULFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixXQUFPLEVBQUUsQ0FBQztBQUNWLFdBQU8sRUFBRSxDQUFDO0FBQ1YsV0FBTyxFQUFFLEtBQUs7QUFDZCxVQUFNLEVBQUUsS0FBSztBQUNiLFlBQVEsRUFBRSxLQUFLO0FBQ2YsV0FBTyxFQUFFLEtBQUs7QUFDZCxVQUFNLEVBQUUsQ0FBQztBQUNULGlCQUFhLEVBQUUsU0FBUztHQUN6QixDQUFBOztBQUVELE9BQUssSUFBSSxDQUFDLElBQUksUUFBUSxFQUFFO0FBQ3RCLFFBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUNuQixRQUFJLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQSxBQUFDLEVBQUU7QUFDNUIsZ0JBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUE7S0FDbEI7R0FDRjs7QUFFRCxTQUFPLElBQUksVUFBVSxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsQ0FBQTtDQUN4Qzs7QUFFRCxTQUFTLFVBQVUsQ0FBRSxJQUFJLEVBQUUsT0FBTyxFQUFFO0FBQ2xDLE1BQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQTs7QUFFM0IsTUFBSSxVQUFVLEdBQUc7QUFDZixXQUFPLEVBQUUsSUFBSTtBQUNiLGNBQVUsRUFBRSxJQUFJO0FBQ2hC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QyxDQUFBIiwiZmlsZSI6Ii9Vc2Vycy9hbmFzLy5hdG9tL3BhY2thZ2VzL21pbmltYXAvc3BlYy9oZWxwZXJzL2V2ZW50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2UgYmFiZWwnXG5cbmZ1bmN0aW9uIG1vdXNlRXZlbnQgKHR5cGUsIHByb3BlcnRpZXMpIHtcbiAgbGV0IGRlZmF1bHRzID0ge1xuICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgY2FuY2VsYWJsZTogKHR5cGUgIT09ICdtb3VzZW1vdmUnKSxcbiAgICB2aWV3OiB3aW5kb3csXG4gICAgZGV0YWlsOiAwLFxuICAgIHBhZ2VYOiAwLFxuICAgIHBhZ2VZOiAwLFxuICAgIGNsaWVudFg6IDAsXG4gICAgY2xpZW50WTogMCxcbiAgICBjdHJsS2V5OiBmYWxzZSxcbiAgICBhbHRLZXk6IGZhbHNlLFxuICAgIHNoaWZ0S2V5OiBmYWxzZSxcbiAgICBtZXRhS2V5OiBmYWxzZSxcbiAgICBidXR0b246IDAsXG4gICAgcmVsYXRlZFRhcmdldDogdW5kZWZpbmVkXG4gIH1cblxuICBmb3IgKGxldCBrIGluIGRlZmF1bHRzKSB7XG4gICAgbGV0IHYgPSBkZWZhdWx0c1trXVxuICAgIGlmICghKHByb3BlcnRpZXNba10gIT0gbnVsbCkpIHtcbiAgICAgIHByb3BlcnRpZXNba10gPSB2XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBNb3VzZUV2ZW50KHR5cGUsIHByb3BlcnRpZXMpXG59XG5cbmZ1bmN0aW9uIHRvdWNoRXZlbnQgKHR5cGUsIHRvdWNoZXMpIHtcbiAgbGV0IGZpcnN0VG91Y2ggPSB0b3VjaGVzWzBdXG5cbiAgbGV0IHByb3BlcnRpZXMgPSB7XG4gICAgYnViYmxlczogdHJ1ZSxcbiAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgIHZpZXc6IHdpbmRvdyxcbiAgICBjdHJsS2V5OiBmYWxzZSxcbiAgICBhbHRLZXk6IGZhbHNlLFxuICAgIHNoaWZ0S2V5OiBmYWxzZSxcbiAgICBtZXRhS2V5OiBmYWxzZSxcbiAgICByZWxhdGVkVGFyZ2V0OiB1bmRlZmluZWRcbiAgfVxuXG4gIGxldCBlID0gbmV3IEV2ZW50KHR5cGUsIHByb3BlcnRpZXMpXG4gIGUucGFnZVggPSBmaXJzdFRvdWNoLnBhZ2VYXG4gIGUucGFnZVkgPSBmaXJzdFRvdWNoLnBhZ2VZXG4gIGUuY2xpZW50WCA9IGZpcnN0VG91Y2guY2xpZW50WFxuICBlLmNsaWVudFkgPSBmaXJzdFRvdWNoLmNsaWVudFlcbiAgZS50b3VjaGVzID0gZS50YXJnZXRUb3VjaGVzID0gZS5jaGFuZ2VkVG91Y2hlcyA9IHRvdWNoZXNcbiAgcmV0dXJuIGVcbn1cblxuZnVuY3Rpb24gb2JqZWN0Q2VudGVyQ29vcmRpbmF0ZXMgKG9iaikge1xuICBsZXQge3RvcCwgbGVmdCwgd2lkdGgsIGhlaWdodH0gPSBvYmouZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgcmV0dXJuIHt4OiBsZWZ0ICsgd2lkdGggLyAyLCB5OiB0b3AgKyBoZWlnaHQgLyAyfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtvYmplY3RDZW50ZXJDb29yZGluYXRlcywgbW91c2VFdmVudH1cblxuO1snbW91c2Vkb3duJywgJ21vdXNlbW92ZScsICdtb3VzZXVwJywgJ2NsaWNrJ10uZm9yRWFjaCgoa2V5KSA9PiB7XG4gIG1vZHVsZS5leHBvcnRzW2tleV0gPSBmdW5jdGlvbiAob2JqLCB7eCwgeSwgY3gsIGN5LCBidG59ID0ge30pIHtcbiAgICBpZiAoISgodHlwZW9mIHggIT09ICd1bmRlZmluZWQnICYmIHggIT09IG51bGwpICYmICh0eXBlb2YgeSAhPT0gJ3VuZGVmaW5lZCcgJiYgeSAhPT0gbnVsbCkpKSB7XG4gICAgICBsZXQgbyA9IG9iamVjdENlbnRlckNvb3JkaW5hdGVzKG9iailcbiAgICAgIHggPSBvLnhcbiAgICAgIHkgPSBvLnlcbiAgICB9XG5cbiAgICBpZiAoISgodHlwZW9mIGN4ICE9PSAndW5kZWZpbmVkJyAmJiBjeCAhPT0gbnVsbCkgJiYgKHR5cGVvZiBjeSAhPT0gJ3VuZGVmaW5lZCcgJiYgY3kgIT09IG51bGwpKSkge1xuICAgICAgY3ggPSB4XG4gICAgICBjeSA9IHlcbiAgICB9XG5cbiAgICBvYmouZGlzcGF0Y2hFdmVudChtb3VzZUV2ZW50KGtleSwge1xuICAgICAgcGFnZVg6IHgsIHBhZ2VZOiB5LCBjbGllbnRYOiBjeCwgY2xpZW50WTogY3ksIGJ1dHRvbjogYnRuXG4gICAgfSkpXG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzLm1vdXNld2hlZWwgPSBmdW5jdGlvbiAob2JqLCBkZWx0YVggPSAwLCBkZWx0YVkgPSAwKSB7XG4gIG9iai5kaXNwYXRjaEV2ZW50KG1vdXNlRXZlbnQoJ21vdXNld2hlZWwnLCB7ZGVsdGFYLCBkZWx0YVl9KSlcbn1cblxuO1sndG91Y2hzdGFydCcsICd0b3VjaG1vdmUnLCAndG91Y2hlbmQnXS5mb3JFYWNoKChrZXkpID0+IHtcbiAgbW9kdWxlLmV4cG9ydHNba2V5XSA9IGZ1bmN0aW9uIChvYmosIHt4LCB5LCBjeCwgY3l9ID0ge30pIHtcbiAgICBpZiAoISgodHlwZW9mIHggIT09ICd1bmRlZmluZWQnICYmIHggIT09IG51bGwpICYmICh0eXBlb2YgeSAhPT0gJ3VuZGVmaW5lZCcgJiYgeSAhPT0gbnVsbCkpKSB7XG4gICAgICBsZXQgbyA9IG9iamVjdENlbnRlckNvb3JkaW5hdGVzKG9iailcbiAgICAgIHggPSBvLnhcbiAgICAgIHkgPSBvLnlcbiAgICB9XG5cbiAgICBpZiAoISgodHlwZW9mIGN4ICE9PSAndW5kZWZpbmVkJyAmJiBjeCAhPT0gbnVsbCkgJiYgKHR5cGVvZiBjeSAhPT0gJ3VuZGVmaW5lZCcgJiYgY3kgIT09IG51bGwpKSkge1xuICAgICAgY3ggPSB4XG4gICAgICBjeSA9IHlcbiAgICB9XG5cbiAgICBvYmouZGlzcGF0Y2hFdmVudCh0b3VjaEV2ZW50KGtleSwgW1xuICAgICAge3BhZ2VYOiB4LCBwYWdlWTogeSwgY2xpZW50WDogY3gsIGNsaWVudFk6IGN5fVxuICAgIF0pKVxuICB9XG59KVxuIl19
//# sourceURL=/Users/anas/.atom/packages/minimap/spec/helpers/events.js
